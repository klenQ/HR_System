{"remainingRequest":"E:\\Kalen2\\项目开发中暂存\\HR_SYS\\vue_project_demo\\hrsys_bootstrap\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Kalen2\\项目开发中暂存\\HR_SYS\\vue_project_demo\\hrsys_bootstrap\\src\\views\\employee\\Show.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Kalen2\\项目开发中暂存\\HR_SYS\\vue_project_demo\\hrsys_bootstrap\\src\\views\\employee\\Show.vue","mtime":1597413677516},{"path":"E:\\Kalen2\\项目开发中暂存\\HR_SYS\\vue_project_demo\\hrsys_bootstrap\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638416429646},{"path":"E:\\Kalen2\\项目开发中暂存\\HR_SYS\\vue_project_demo\\hrsys_bootstrap\\node_modules\\babel-loader\\lib\\index.js","mtime":1638416434338},{"path":"E:\\Kalen2\\项目开发中暂存\\HR_SYS\\vue_project_demo\\hrsys_bootstrap\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638416429646},{"path":"E:\\Kalen2\\项目开发中暂存\\HR_SYS\\vue_project_demo\\hrsys_bootstrap\\node_modules\\vue-loader\\lib\\index.js","mtime":1638416431317}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJFbXBsb3llZSIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNlbGVjdGVkSWQ6IC0xLAogICAgICAgICAgICBmb3JtOiB7CiAgICAgICAgICAgICAgICBudW1iZXI6IG51bGwsCiAgICAgICAgICAgICAgICBuYW1lOiBudWxsLAogICAgICAgICAgICAgICAgZ2VuZGVyOiAiIiwKICAgICAgICAgICAgICAgIGFnZTogbnVsbCwKICAgICAgICAgICAgICAgICdkZXAuaWQnOiAiIgogICAgICAgICAgICB9LAogICAgICAgICAgICBsaXN0OiBbXSwKICAgICAgICAgICAgZGVwTGlzdDogW10KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHNlYXJjaDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLmF4aW9zLmdldCgnL2VtcCcsIHtwYXJhbXM6IHRoaXMuZm9ybX0pCiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpCiAgICAgICAgfSwKICAgICAgICBzZWFyY2hEZXA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy5heGlvcy5nZXQoJy9kZXAnKQogICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVwTGlzdCA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKQogICAgICAgIH0sCiAgICAgICAgc2VsZWN0VHI6IGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgICB0aGlzLnNlbGVjdGVkSWQgPSBpZDsKCiAgICAgICAgfSwKICAgICAgICBzaG93QWRkOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAiRW1wQWRkIn0pCiAgICAgICAgfSwKICAgICAgICBzaG93VXBkYXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSWQgPiAtMSkgewogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICJFbXBVcGRhdGUiLCBwYXJhbXM6IHtpZDogdGhpcy5zZWxlY3RlZElkfX0pCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhbGVydCgi6K+36YCJ5Lit5pWw5o2uIik7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGRlbGV0ZURhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJZCA+IC0xKSB7CiAgICAgICAgICAgICAgICB0aGlzLmF4aW9zLmRlbGV0ZSgnL2VtcC8nICsgdGhpcy5zZWxlY3RlZElkKQogICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhID09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLns7vnu5/plJnor68iKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCLor7fpgInkuK3mlbDmja4iKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgICAgdGhpcy5zZWFyY2hEZXAoKTsKICAgIH0KfQo="},{"version":3,"sources":["Show.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Show.vue","sourceRoot":"src/views/employee","sourcesContent":["<template>\r\n    <div id=\"container\">\r\n        <div class=\"form-horizontal\">\r\n            <form class=\"form-group\" @submit.prevent=\"search()\">\r\n                <div class=\"col-sm-2\">\r\n                    <input type=\"text\" class=\"form-control\"\r\n                           placeholder=\"编号\" v-model=\"form.number\">\r\n                </div>\r\n                <div class=\"col-sm-2\">\r\n                    <input type=\"text\" class=\"form-control\"\r\n                           placeholder=\"姓名\" v-model=\"form.name\">\r\n                </div>\r\n                <div class=\"col-sm-2 \">\r\n                    <select name=\"gender\" class=\"form-control\" v-model=\"form.gender\">\r\n                        <option value=\"\">性别</option>\r\n                        <option value=\"男\">男</option>\r\n                        <option value=\"女\">女</option>\r\n                    </select>\r\n                </div>\r\n                <div class=\"col-sm-2\">\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"年龄\" v-model=\"form.age\">\r\n                </div>\r\n                <div class=\"col-sm-2 \">\r\n                    <select class=\"form-control\" v-model=\"form['dep.id']\">\r\n                        <option value=\"\">部门</option>\r\n                        <option v-for=\"dep in depList\"\r\n                                v-text=\"dep.name\" v-bind:key=\"dep.id\" v-bind:value=\"dep.id\">\r\n                        </option>\r\n                    </select>\r\n                </div>\r\n                <div class=\"col-sm-2\">\r\n                    <button class=\"btn btn-primary\">搜索</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <table class=\"table table-striped table-bordered table-hover\">\r\n            <thead>\r\n            <tr>\r\n                <th>编号</th>\r\n                <th>名字</th>\r\n                <th>性别</th>\r\n                <th>年龄</th>\r\n                <th>部门</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr class=\"data\" v-for=\"emp in list\" v-bind:key=\"emp.id\" v-bind:class=\"{selected:emp.id==selectedId}\"\r\n                @click=\"selectTr(emp.id)\">\r\n                <td v-text=\"emp.number\"></td>\r\n                <td v-text=\"emp.name\"></td>\r\n                <td v-text=\"emp.gender\"></td>\r\n                <td v-text=\"emp.age\"></td>\r\n                <td v-text=\"emp.dep!=null?emp.dep.name:''\"></td>\r\n            </tr>\r\n            </tbody>\r\n        </table>\r\n        <div id=\"buttons\">\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"showAdd\">新增</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"showUpdate\">修改</button>\r\n            <button type=\"button\" class=\"btn btn-danger\" @click=\"deleteData\">删除</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Employee\",\r\n        data() {\r\n            return {\r\n                selectedId: -1,\r\n                form: {\r\n                    number: null,\r\n                    name: null,\r\n                    gender: \"\",\r\n                    age: null,\r\n                    'dep.id': \"\"\r\n                },\r\n                list: [],\r\n                depList: []\r\n            }\r\n        },\r\n        methods: {\r\n            search: function () {\r\n                this.axios.get('/emp', {params: this.form})\r\n                    .then(function (res) {\r\n                        this.list = res.data;\r\n                    }.bind(this))\r\n            },\r\n            searchDep: function () {\r\n                this.axios.get('/dep')\r\n                    .then(function (res) {\r\n                        this.depList = res.data;\r\n                    }.bind(this))\r\n            },\r\n            selectTr: function (id) {\r\n                this.selectedId = id;\r\n\r\n            },\r\n            showAdd: function () {\r\n                this.$router.push({name: \"EmpAdd\"})\r\n            },\r\n            showUpdate: function () {\r\n                if (this.selectedId > -1) {\r\n                    this.$router.push({name: \"EmpUpdate\", params: {id: this.selectedId}})\r\n                } else {\r\n                    alert(\"请选中数据\");\r\n                }\r\n            },\r\n            deleteData: function () {\r\n                if (this.selectedId > -1) {\r\n                    this.axios.delete('/emp/' + this.selectedId)\r\n                        .then(function (res) {\r\n                            if (res.data == true) {\r\n                                this.search();\r\n                            }else {\r\n                                alert(\"系统错误\");\r\n                            }\r\n                        }.bind(this))\r\n                } else {\r\n                    alert(\"请选中数据\");\r\n                }\r\n            }\r\n        },\r\n        created() {\r\n            this.search();\r\n            this.searchDep();\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    #container {\r\n        width: 800px;\r\n        margin: 10px auto;\r\n    }\r\n\r\n    #container .selected {\r\n        background: #337ab7\r\n    }\r\n\r\n    #buttons button {\r\n        margin-right: 5px;\r\n    }\r\n</style>"]}]}